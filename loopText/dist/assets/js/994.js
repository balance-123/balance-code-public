"use strict";(self.webpackChunkplayground=self.webpackChunkplayground||[]).push([[994],{994:(t,e,i)=>{i.r(e);var n=i(671),s=i(144),a=i(358),o=function(){function t(){(0,n.Z)(this,t),this.setup(),this.setEvents()}return(0,s.Z)(t,[{key:"setup",value:function(){this.currentPosX=0,this.speed={value:.5},this.v=0,this.wrap=document.querySelector(".original"),this.inner=this.wrap.querySelector(".original .loop_inner"),this.resetPoint=.5*this.inner.clientWidth}},{key:"update",value:function(t){var e=Math.min(t/(1/60*1e3),1);this.currentPosX+=this.speed.value*e,this.v=this.currentPosX,this.inner.style.transform="translate3d(".concat(-this.v,"px, 0px, 1px)"),this.v>this.resetPoint&&(this.v=0,this.currentPosX-=this.resetPoint)}},{key:"onEnter",value:function(){this.tl&&this.tl.kill(),this.tl=a.ZP.timeline(),this.tl.to(this.speed,2,{value:3,ease:"expo.out"})}},{key:"onLeave",value:function(){this.tl&&this.tl.kill(),this.tl=a.ZP.timeline(),this.tl.to(this.speed,2,{value:.5,ease:"expo.out"})}},{key:"setEvents",value:function(){this.wrap.addEventListener("mouseenter",this.onEnter.bind(this)),this.wrap.addEventListener("mouseleave",this.onLeave.bind(this))}}]),t}(),h=function(){function t(){var e=this,s=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];(0,n.Z)(this,t),this.events=[],s&&i.e(466).then(i.t.bind(i,466,23)).then((function(t){e.stats=new t.default,e.stats.showPanel(0),document.body.appendChild(e.stats.dom)})),this.isStop=!1,this.frame,this._amountTime=0,this.update()}return(0,s.Z)(t,[{key:"on",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};this.events.push(t)}},{key:"update",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=t-this._amountTime;if(this.isStop)return window.cancelAnimationFrame(this.frame),void(this._amountTime=0);this.stats&&this.stats.begin();for(var i=this.events.length,n=0;n<i;n++)this.events[n](e);this.stats&&this.stats.end(),this._amountTime=t,this.frame=window.requestAnimationFrame(this.update.bind(this))}}]),t}(),r=i(152),u=i(861),l=i(757),d=i.n(l),v=28,c=window.devicePixelRatio,p=function(){function t(){(0,n.Z)(this,t),this.isLoaded=!1,this.setup(),this.setEvents()}return(0,s.Z)(t,[{key:"setup",value:(e=(0,u.Z)(d().mark((function t(){var e,i,n,s,o=this;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.canvas=document.querySelector("canvas"),this.ctx=this.canvas.getContext("2d"),this.imgs=[],this.speed={value:.5},this.tl=a.ZP.timeline(),e=[],this.imgWidth=0,i=function(t){var i=new Promise((function(e){var i=new Image;i.src="./assets/resource/0"+t+".png",i.onload=function(){var t=i.naturalWidth/i.naturalHeight*28*c+17*c;o.imgWidth+=t,e(i)}}));e.push(i)},n=1;8>=n;n++)i(n);return t.next=12,Promise.all(e);case 12:s=t.sent,this.imgs=s,this.v=0,this.onResize(),this.isLoaded=!0;case 17:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"setEvents",value:function(){window.addEventListener("resize",this.onResize.bind(this)),this.canvas.addEventListener("mouseenter",this.onHover.bind(this)),this.canvas.addEventListener("mouseleave",this.onHoverOut.bind(this))}},{key:"onHover",value:function(){this.tl&&this.tl.kill(),this.tl=a.ZP.timeline(),this.tl.to(this.speed,2,{value:3,ease:"expo.out"})}},{key:"onHoverOut",value:function(){this.tl&&this.tl.kill(),this.tl=a.ZP.timeline(),this.tl.to(this.speed,2,{value:.5,ease:"expo.out"})}},{key:"update",value:function(t){var e=Math.min(t/(1/60*1e3),1);this.isLoaded&&(this.ctx.clearRect(-300*c,0,this.canvas.width+300*c,this.canvas.height),this.v-=this.speed.value*c*e,this.v=Math.abs(this.v)%this.imgWidth*-1,this.draw())}},{key:"draw",value:function(){this.ctx.fillStyle="#bababa",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.drawImg(0,this.v)}},{key:"drawImg",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=this.imgs[t%this.imgs.length];if(i){var n=i.naturalWidth/i.naturalHeight*v,s=e+n*c+17*c;if(0<=s||e>=window.innerWidth*c){var a=(this.canvas.height-v*c)/2;this.ctx.drawImage(i,0,0,i.naturalWidth,i.naturalHeight,e,a,n*c,v*c)}e<window.innerWidth*c&&this.drawImg(t%this.imgs.length+1,s)}}},{key:"onResize",value:function(){this.canvas.width=window.innerWidth*c,this.canvas.height=75*c}}]),t;var e}(),m=i(637),f={originalUpdate:!0,canvasUpdate:!0,reset:function(){}},g=(document.getElementById("js-perfomance"),new m.ZP);g.add(f,"originalUpdate").onChange((function(t){document.querySelector(".original").style.pointerEvents=t?"auto":"none"})),g.add(f,"canvasUpdate").onChange((function(t){document.querySelector(".canvas-loop").style.pointerEvents=t?"auto":"none"})),g.add(f,"reset");var w=new h;!function(){var t=document.querySelector(".css-loop"),e=t.querySelectorAll(".loop_item"),i=0;e.forEach((function(t,e){8<=e||(i+=t.clientWidth+17)}));var n=i/30;t.style.setProperty("--width",-1*i+"px"),t.style.setProperty("--duration",n+"s"),t.style.setProperty("--duration-hoverd",n/3+"s");var s=document.getAnimations().filter((function(t){return"animation"==t.animationName})),o=(0,r.Z)(s,1)[0];t.addEventListener("mouseenter",(function(){a.ZP.to(o,2,{playbackRate:6,ease:"expo.out"})})),t.addEventListener("mouseleave",(function(){a.ZP.to(o,2,{playbackRate:1,ease:"expo.out"})})),document.addEventListener("animationend",(function(){}))}();var y=new o,k=new p;w.on((function(t){f.originalUpdate&&y.update(t),f.canvasUpdate&&k.update(t)}))}}]);